<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="/us/fragments :: head(~{::title},~{})">
    <title>Colorlib Wordify &mdash; Minimal Blog Template</title>
</head>
<body>
<div class="wrap">
    <!--Header-->
    <header th:replace="/us/fragments :: header"></header>
    <!--End Header-->

    <section class="site-section pt-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-md-6">
                    <h2 class="mb-4" th:text="${txt}"></h2>
                </div>
            </div>
            <div class="row blog-entries">
                <div class="col-md-12 col-lg-8 main-content">
                    <div class="row mb-5 mt-5">
                        <div class="col-md-12" >

                            <th:block th:if="${listP.size()==0}">
                                <h3 class="text-danger">Không tìm thấy bài đăng !</h3>
                            </th:block>
                            <th:block th:switch="${enable}">
                                <th:block th:case="0">
                                    <th:block th:each="post : ${listP}">
                                        <div class="post-entry-horzontal">
                                            <a th:href="@{/bai-viet/{id}(id=${post.postId})}">
                                                <div class="image element-animate" data-animate-effect="fadeIn"
                                                     th:style="'background-image: url('+ ${post.postImage} +');'">
                                                </div>
                                                <span class="text">
                                            <div class="post-meta">
                                                <span class="author mr-2">
                                                    <img th:src="@{${post.account.avatar}}">
                                                    <span th:text="${post.account.fullName}"></span>
                                                </span> &bullet;
                                                <span class="mr-2" th:text="${post.postDate}"> </span> &bullet;
                                                <span class="mr-2" th:text="${post.category.categoryName}"></span> &bullet;
                                                <span class="ml-2">
                                                    <span class="fa fa-eye"></span>
                                                    <span th:text="${post.postViews}">

                                                    </span>
                                                </span>
                                            </div>

                                            <h2 th:text="${post.postTitle}"></h2>
                                        </span>
                                            </a>
                                        </div>
                                    </th:block>
                                </th:block>
                                <th:block th:case="1">
                                    <th:block  th:each="i : ${#numbers.sequence(start,end)}">
                                        <th:block th:if="${i<listP.size()}">
                                            <div class="post-entry-horzontal">
                                                <a th:href="@{/bai-viet/{id}(id=${listP.get(i).postId})}">
                                                    <div class="image element-animate" data-animate-effect="fadeIn"
                                                         th:style="'background-image: url('+ ${listP.get(i).postImage} +');'">
                                                    </div>
                                                    <span class="text">

                                                <div class="post-meta">
                                                    <span class="author mr-2">
                                                        <img th:src="@{${listP.get(i).account.avatar}}">
                                                        <span th:text="${listP.get(i).account.fullName}">
                                                        </span>
                                                    </span> &bullet;
                                                    <span class="mr-2" th:text="${listP.get(i).postDate}"> </span> &bullet;
                                                    <span class="mr-2" th:text="${listP.get(i).category.categoryName}"></span> &bullet;
                                                    <span class="ml-2">
                                                        <span class="fa fa-eye"></span>
                                                        <span th:text="${listP.get(i).postViews}"></span>
                                                    </span>
                                                </div>
                                                <h2 th:text="${listP.get(i).postTitle}"></h2>
                                            </span>
                                                </a>
                                            </div>
                                        </th:block>
                                    </th:block>
                                </th:block>


                            </th:block>




                        </div>
                    </div>
                    <th:block th:if="${listP.size()!=0}">
                        <div class="row mt-5">
                            <div class="col-md-12 text-center">
                                <nav aria-label="Page navigation" class="text-center">
                                    <ul class="pagination">
                                        <li th:if="${page>1}" class="page-item">
                                            <a class="page-link"
                                               th:href="@{'/'+${filter}+'?page='+(${page}-1)+${pt}}">&lt;</a>
                                        </li>
                                        <th:block th:each="i : ${#numbers.sequence(1,totalPage)}">
                                            <li class="page-item" th:classappend="${page==i}?active">
                                                <a class="page-link"
                                                   th:href="@{'/'+${filter}+'?page='+${i}+${pt}}"
                                                   th:text="${i}">
                                                </a>
                                            </li>
                                        </th:block>
                                        <li th:if="${page<totalPage}" class="page-item">
                                            <a class="page-link" th:href="@{'/'+${filter}+'?page='+${page+1}+${pt}}">></a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </th:block>

                </div>

                <!--SideBar-->
                <div th:replace="/us/fragments :: sideBar"></div>
                <!--End SideBar-->

            </div>
        </div>
    </section>
    <!--Footer-->
    <footer th:replace="/us/fragments :: footer"></footer>
    <!--End Footer-->

</div>

<!--Loader-->
<div th:replace="/us/fragments :: loader"></div>
<!--End Loader-->
<script th:src="@{/us/js/jquery-3.2.1.min.js}"></script>
<script th:src="@{/us/js/jquery-migrate-3.0.0.js}"></script>
<script>eval(mod_pagespeed_CHhG0swHu9);</script>
<script>eval(mod_pagespeed_9gTlCHlMGs);</script>
<script>eval(mod_pagespeed_Rk_dnvoyRW);</script>
<script th:src="@{/us/js/owl.carousel.min.js}"></script>
<script>eval(mod_pagespeed_5SmbetdflY);</script>
<script>eval(mod_pagespeed_jWXnVk$Yms);</script>
<script>eval(mod_pagespeed_c_Sou8GneL);</script>
<script>eval(mod_pagespeed_hDB4kOERkC);</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-23581568-13');
</script>
<script defer th:src="@{beacon.min.js}"
        data-cf-beacon='{"rayId":"67e76db90bc9234a","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2021.8.0","si":10}'></script>
</body>


</html>